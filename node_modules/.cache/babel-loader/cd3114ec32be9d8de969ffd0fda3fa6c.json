{"ast":null,"code":"'use strict';\n\nconst uuid = require('uuid/v4');\n/**\n *  Generates a JSON-RPC 1.0 or 2.0 request\n *  @param {String} method Name of method to call\n *  @param {Array|Object} params Array of parameters passed to the method as specified, or an object of parameter names and corresponding value\n *  @param {String|Number|null} [id] Request ID can be a string, number, null for explicit notification or left out for automatic generation\n *  @param {Object} [options]\n *  @param {Number} [options.version=2] JSON-RPC version to use (1 or 2)\n *  @param {Function} [options.generator] Passed the request, and the options object and is expected to return a request ID\n *  @throws {TypeError} If any of the parameters are invalid\n *  @return {Object} A JSON-RPC 1.0 or 2.0 request\n *  @memberOf Utils\n */\n\n\nconst generateRequest = function (method, params, id, options) {\n  if (typeof method !== 'string') {\n    throw new TypeError(method + ' must be a string');\n  }\n\n  options = options || {};\n  const request = {\n    method: method\n  }; // assume that we are doing a 2.0 request unless specified differently\n\n  if (typeof options.version === 'undefined' || options.version !== 1) {\n    request.jsonrpc = '2.0';\n  }\n\n  if (params) {\n    // params given, but invalid?\n    if (typeof params !== 'object' && !Array.isArray(params)) {\n      throw new TypeError(params + ' must be an object, array or omitted');\n    }\n\n    request.params = params;\n  } // if id was left out, generate one (null means explicit notification)\n\n\n  if (typeof id === 'undefined') {\n    const generator = typeof options.generator === 'function' ? options.generator : function () {\n      return uuid();\n    };\n    request.id = generator(request, options);\n  } else {\n    request.id = id;\n  }\n\n  return request;\n};\n\nmodule.exports = generateRequest;","map":{"version":3,"sources":["/home/ankit/solana/dapp-scaffold/node_modules/@project-serum/serum/node_modules/jayson/lib/generateRequest.js"],"names":["uuid","require","generateRequest","method","params","id","options","TypeError","request","version","jsonrpc","Array","isArray","generator","module","exports"],"mappings":"AAAA;;AAEA,MAAMA,IAAI,GAAGC,OAAO,CAAC,SAAD,CAApB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,MAAMC,eAAe,GAAG,UAASC,MAAT,EAAiBC,MAAjB,EAAyBC,EAAzB,EAA6BC,OAA7B,EAAsC;AAC5D,MAAG,OAAOH,MAAP,KAAkB,QAArB,EAA+B;AAC7B,UAAM,IAAII,SAAJ,CAAcJ,MAAM,GAAG,mBAAvB,CAAN;AACD;;AAEDG,EAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;AAEA,QAAME,OAAO,GAAG;AACdL,IAAAA,MAAM,EAAEA;AADM,GAAhB,CAP4D,CAW5D;;AACA,MAAG,OAAOG,OAAO,CAACG,OAAf,KAA2B,WAA3B,IAA0CH,OAAO,CAACG,OAAR,KAAoB,CAAjE,EAAoE;AAClED,IAAAA,OAAO,CAACE,OAAR,GAAkB,KAAlB;AACD;;AAED,MAAGN,MAAH,EAAW;AAET;AACA,QAAG,OAAOA,MAAP,KAAkB,QAAlB,IAA8B,CAACO,KAAK,CAACC,OAAN,CAAcR,MAAd,CAAlC,EAAyD;AACvD,YAAM,IAAIG,SAAJ,CAAcH,MAAM,GAAG,sCAAvB,CAAN;AACD;;AAEDI,IAAAA,OAAO,CAACJ,MAAR,GAAiBA,MAAjB;AAED,GAzB2D,CA2B5D;;;AACA,MAAG,OAAOC,EAAP,KAAe,WAAlB,EAA+B;AAC7B,UAAMQ,SAAS,GAAG,OAAOP,OAAO,CAACO,SAAf,KAA6B,UAA7B,GAA0CP,OAAO,CAACO,SAAlD,GAA8D,YAAW;AAAE,aAAOb,IAAI,EAAX;AAAgB,KAA7G;AACAQ,IAAAA,OAAO,CAACH,EAAR,GAAaQ,SAAS,CAACL,OAAD,EAAUF,OAAV,CAAtB;AACD,GAHD,MAGO;AACLE,IAAAA,OAAO,CAACH,EAAR,GAAaA,EAAb;AACD;;AAED,SAAOG,OAAP;AACD,CApCD;;AAsCAM,MAAM,CAACC,OAAP,GAAiBb,eAAjB","sourcesContent":["'use strict';\n\nconst uuid = require('uuid/v4');\n\n/**\n *  Generates a JSON-RPC 1.0 or 2.0 request\n *  @param {String} method Name of method to call\n *  @param {Array|Object} params Array of parameters passed to the method as specified, or an object of parameter names and corresponding value\n *  @param {String|Number|null} [id] Request ID can be a string, number, null for explicit notification or left out for automatic generation\n *  @param {Object} [options]\n *  @param {Number} [options.version=2] JSON-RPC version to use (1 or 2)\n *  @param {Function} [options.generator] Passed the request, and the options object and is expected to return a request ID\n *  @throws {TypeError} If any of the parameters are invalid\n *  @return {Object} A JSON-RPC 1.0 or 2.0 request\n *  @memberOf Utils\n */\nconst generateRequest = function(method, params, id, options) {\n  if(typeof method !== 'string') {\n    throw new TypeError(method + ' must be a string');\n  }\n\n  options = options || {};\n\n  const request = {\n    method: method\n  };\n\n  // assume that we are doing a 2.0 request unless specified differently\n  if(typeof options.version === 'undefined' || options.version !== 1) {\n    request.jsonrpc = '2.0';\n  }\n\n  if(params) {\n\n    // params given, but invalid?\n    if(typeof params !== 'object' && !Array.isArray(params)) {\n      throw new TypeError(params + ' must be an object, array or omitted');\n    }\n\n    request.params = params;\n\n  }\n\n  // if id was left out, generate one (null means explicit notification)\n  if(typeof(id) === 'undefined') {\n    const generator = typeof options.generator === 'function' ? options.generator : function() { return uuid(); };\n    request.id = generator(request, options);\n  } else {\n    request.id = id;\n  }\n\n  return request;\n};\n\nmodule.exports = generateRequest;\n"]},"metadata":{},"sourceType":"script"}