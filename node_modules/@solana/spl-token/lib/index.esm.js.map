{"version":3,"file":"index.esm.js","sources":["../client/layout.js","../client/util/send-and-confirm-transaction.js","../client/token.js"],"sourcesContent":["// @flow\n\nimport * as BufferLayout from 'buffer-layout';\n\n/**\n * Layout for a public key\n */\nexport const publicKey = (property: string = 'publicKey'): Object => {\n  return BufferLayout.blob(32, property);\n};\n\n/**\n * Layout for a 64bit unsigned value\n */\nexport const uint64 = (property: string = 'uint64'): Object => {\n  return BufferLayout.blob(8, property);\n};\n","// @flow\n\nimport {sendAndConfirmTransaction as realSendAndConfirmTransaction} from '@solana/web3.js';\nimport type {\n  Account,\n  Connection,\n  Transaction,\n  TransactionSignature,\n} from '@solana/web3.js';\n\nexport function sendAndConfirmTransaction(\n  title: string,\n  connection: Connection,\n  transaction: Transaction,\n  ...signers: Array<Account>\n): Promise<TransactionSignature> {\n  return realSendAndConfirmTransaction(connection, transaction, signers, {\n    skipPreflight: false,\n  });\n}\n","/**\n * @flow\n */\n\nimport {Buffer} from 'buffer';\nimport assert from 'assert';\nimport BN from 'bn.js';\nimport * as BufferLayout from 'buffer-layout';\nimport {\n  Account,\n  PublicKey,\n  SystemProgram,\n  Transaction,\n  TransactionInstruction,\n  SYSVAR_RENT_PUBKEY,\n} from '@solana/web3.js';\nimport type {\n  Connection,\n  Commitment,\n  TransactionSignature,\n} from '@solana/web3.js';\n\nimport * as Layout from './layout';\nimport {sendAndConfirmTransaction} from './util/send-and-confirm-transaction';\n\nexport const TOKEN_PROGRAM_ID: PublicKey = new PublicKey(\n  'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA',\n);\n\nexport const ASSOCIATED_TOKEN_PROGRAM_ID: PublicKey = new PublicKey(\n  'ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL',\n);\n\nconst FAILED_TO_FIND_ACCOUNT = 'Failed to find account';\nconst INVALID_ACCOUNT_OWNER = 'Invalid account owner';\n\n/**\n * Unfortunately, BufferLayout.encode uses an `instanceof` check for `Buffer`\n * which fails when using `publicKey.toBuffer()` directly because the bundled `Buffer`\n * class in `@solana/web3.js` is different from the bundled `Buffer` class in this package\n */\nfunction pubkeyToBuffer(publicKey: PublicKey): typeof Buffer {\n  return Buffer.from(publicKey.toBuffer());\n}\n\n/**\n * 64-bit value\n */\nexport class u64 extends BN {\n  /**\n   * Convert to Buffer representation\n   */\n  toBuffer(): typeof Buffer {\n    const a = super.toArray().reverse();\n    const b = Buffer.from(a);\n    if (b.length === 8) {\n      return b;\n    }\n    assert(b.length < 8, 'u64 too large');\n\n    const zeroPad = Buffer.alloc(8);\n    b.copy(zeroPad);\n    return zeroPad;\n  }\n\n  /**\n   * Construct a u64 from Buffer representation\n   */\n  static fromBuffer(buffer: typeof Buffer): u64 {\n    assert(buffer.length === 8, `Invalid buffer length: ${buffer.length}`);\n    return new u64(\n      [...buffer]\n        .reverse()\n        .map(i => `00${i.toString(16)}`.slice(-2))\n        .join(''),\n      16,\n    );\n  }\n}\n\nfunction isAccount(accountOrPublicKey: any): boolean {\n  return 'publicKey' in accountOrPublicKey;\n}\n\ntype AuthorityType =\n  | 'MintTokens'\n  | 'FreezeAccount'\n  | 'AccountOwner'\n  | 'CloseAccount';\n\nconst AuthorityTypeCodes = {\n  MintTokens: 0,\n  FreezeAccount: 1,\n  AccountOwner: 2,\n  CloseAccount: 3,\n};\n\n// The address of the special mint for wrapped native token.\nexport const NATIVE_MINT: PublicKey = new PublicKey(\n  'So11111111111111111111111111111111111111112',\n);\n\n/**\n * Information about the mint\n */\ntype MintInfo = {|\n  /**\n   * Optional authority used to mint new tokens. The mint authority may only be provided during\n   * mint creation. If no mint authority is present then the mint has a fixed supply and no\n   * further tokens may be minted.\n   */\n  mintAuthority: null | PublicKey,\n\n  /**\n   * Total supply of tokens\n   */\n  supply: u64,\n\n  /**\n   * Number of base 10 digits to the right of the decimal place\n   */\n  decimals: number,\n\n  /**\n   * Is this mint initialized\n   */\n  isInitialized: boolean,\n\n  /**\n   * Optional authority to freeze token accounts\n   */\n  freezeAuthority: null | PublicKey,\n|};\n\nexport const MintLayout: typeof BufferLayout.Structure = BufferLayout.struct([\n  BufferLayout.u32('mintAuthorityOption'),\n  Layout.publicKey('mintAuthority'),\n  Layout.uint64('supply'),\n  BufferLayout.u8('decimals'),\n  BufferLayout.u8('isInitialized'),\n  BufferLayout.u32('freezeAuthorityOption'),\n  Layout.publicKey('freezeAuthority'),\n]);\n\n/**\n * Information about an account\n */\ntype AccountInfo = {|\n  /**\n   * The address of this account\n   */\n  address: PublicKey,\n\n  /**\n   * The mint associated with this account\n   */\n  mint: PublicKey,\n\n  /**\n   * Owner of this account\n   */\n  owner: PublicKey,\n\n  /**\n   * Amount of tokens this account holds\n   */\n  amount: u64,\n\n  /**\n   * The delegate for this account\n   */\n  delegate: null | PublicKey,\n\n  /**\n   * The amount of tokens the delegate authorized to the delegate\n   */\n  delegatedAmount: u64,\n\n  /**\n   * Is this account initialized\n   */\n  isInitialized: boolean,\n\n  /**\n   * Is this account frozen\n   */\n  isFrozen: boolean,\n\n  /**\n   * Is this a native token account\n   */\n  isNative: boolean,\n\n  /**\n   * If this account is a native token, it must be rent-exempt. This\n   * value logs the rent-exempt reserve which must remain in the balance\n   * until the account is closed.\n   */\n  rentExemptReserve: null | u64,\n\n  /**\n   * Optional authority to close the account\n   */\n  closeAuthority: null | PublicKey,\n|};\n\n/**\n * @private\n */\nexport const AccountLayout: typeof BufferLayout.Structure = BufferLayout.struct(\n  [\n    Layout.publicKey('mint'),\n    Layout.publicKey('owner'),\n    Layout.uint64('amount'),\n    BufferLayout.u32('delegateOption'),\n    Layout.publicKey('delegate'),\n    BufferLayout.u8('state'),\n    BufferLayout.u32('isNativeOption'),\n    Layout.uint64('isNative'),\n    Layout.uint64('delegatedAmount'),\n    BufferLayout.u32('closeAuthorityOption'),\n    Layout.publicKey('closeAuthority'),\n  ],\n);\n\n/**\n * Information about an multisig\n */\ntype MultisigInfo = {|\n  /**\n   * The number of signers required\n   */\n  m: number,\n\n  /**\n   * Number of possible signers, corresponds to the\n   * number of `signers` that are valid.\n   */\n  n: number,\n\n  /**\n   * Is this mint initialized\n   */\n  initialized: boolean,\n\n  /**\n   * The signers\n   */\n  signer1: PublicKey,\n  signer2: PublicKey,\n  signer3: PublicKey,\n  signer4: PublicKey,\n  signer5: PublicKey,\n  signer6: PublicKey,\n  signer7: PublicKey,\n  signer8: PublicKey,\n  signer9: PublicKey,\n  signer10: PublicKey,\n  signer11: PublicKey,\n|};\n\n/**\n * @private\n */\nconst MultisigLayout = BufferLayout.struct([\n  BufferLayout.u8('m'),\n  BufferLayout.u8('n'),\n  BufferLayout.u8('is_initialized'),\n  Layout.publicKey('signer1'),\n  Layout.publicKey('signer2'),\n  Layout.publicKey('signer3'),\n  Layout.publicKey('signer4'),\n  Layout.publicKey('signer5'),\n  Layout.publicKey('signer6'),\n  Layout.publicKey('signer7'),\n  Layout.publicKey('signer8'),\n  Layout.publicKey('signer9'),\n  Layout.publicKey('signer10'),\n  Layout.publicKey('signer11'),\n]);\n\n/**\n * An ERC20-like Token\n */\nexport class Token {\n  /**\n   * @private\n   */\n  connection: Connection;\n\n  /**\n   * The public key identifying this mint\n   */\n  publicKey: PublicKey;\n\n  /**\n   * Program Identifier for the Token program\n   */\n  programId: PublicKey;\n\n  /**\n   * Program Identifier for the Associated Token program\n   */\n  associatedProgramId: PublicKey;\n\n  /**\n   * Fee payer\n   */\n  payer: Account;\n\n  /**\n   * Create a Token object attached to the specific mint\n   *\n   * @param connection The connection to use\n   * @param token Public key of the mint\n   * @param programId token programId\n   * @param payer Payer of fees\n   */\n  constructor(\n    connection: Connection,\n    publicKey: PublicKey,\n    programId: PublicKey,\n    payer: Account,\n  ) {\n    Object.assign(this, {\n      connection,\n      publicKey,\n      programId,\n      payer,\n      // Hard code is ok; Overriding is needed only for tests\n      associatedProgramId: ASSOCIATED_TOKEN_PROGRAM_ID,\n    });\n  }\n\n  /**\n   * Get the minimum balance for the mint to be rent exempt\n   *\n   * @return Number of lamports required\n   */\n  static async getMinBalanceRentForExemptMint(\n    connection: Connection,\n  ): Promise<number> {\n    return await connection.getMinimumBalanceForRentExemption(MintLayout.span);\n  }\n\n  /**\n   * Get the minimum balance for the account to be rent exempt\n   *\n   * @return Number of lamports required\n   */\n  static async getMinBalanceRentForExemptAccount(\n    connection: Connection,\n  ): Promise<number> {\n    return await connection.getMinimumBalanceForRentExemption(\n      AccountLayout.span,\n    );\n  }\n\n  /**\n   * Get the minimum balance for the multsig to be rent exempt\n   *\n   * @return Number of lamports required\n   */\n  static async getMinBalanceRentForExemptMultisig(\n    connection: Connection,\n  ): Promise<number> {\n    return await connection.getMinimumBalanceForRentExemption(\n      MultisigLayout.span,\n    );\n  }\n\n  /**\n   * Create and initialize a token.\n   *\n   * @param connection The connection to use\n   * @param payer Fee payer for transaction\n   * @param mintAuthority Account or multisig that will control minting\n   * @param freezeAuthority Optional account or multisig that can freeze token accounts\n   * @param decimals Location of the decimal place\n   * @param programId Optional token programId, uses the system programId by default\n   * @return Token object for the newly minted token\n   */\n  static async createMint(\n    connection: Connection,\n    payer: Account,\n    mintAuthority: PublicKey,\n    freezeAuthority: PublicKey | null,\n    decimals: number,\n    programId: PublicKey,\n  ): Promise<Token> {\n    const mintAccount = new Account();\n    const token = new Token(\n      connection,\n      mintAccount.publicKey,\n      programId,\n      payer,\n    );\n\n    // Allocate memory for the account\n    const balanceNeeded = await Token.getMinBalanceRentForExemptMint(\n      connection,\n    );\n\n    const transaction = new Transaction();\n    transaction.add(\n      SystemProgram.createAccount({\n        fromPubkey: payer.publicKey,\n        newAccountPubkey: mintAccount.publicKey,\n        lamports: balanceNeeded,\n        space: MintLayout.span,\n        programId,\n      }),\n    );\n\n    transaction.add(\n      Token.createInitMintInstruction(\n        programId,\n        mintAccount.publicKey,\n        decimals,\n        mintAuthority,\n        freezeAuthority,\n      ),\n    );\n\n    // Send the two instructions\n    await sendAndConfirmTransaction(\n      'createAccount and InitializeMint',\n      connection,\n      transaction,\n      payer,\n      mintAccount,\n    );\n\n    return token;\n  }\n\n  /**\n   * Create and initialize a new account.\n   *\n   * This account may then be used as a `transfer()` or `approve()` destination\n   *\n   * @param owner User account that will own the new account\n   * @return Public key of the new empty account\n   */\n  async createAccount(owner: PublicKey): Promise<PublicKey> {\n    // Allocate memory for the account\n    const balanceNeeded = await Token.getMinBalanceRentForExemptAccount(\n      this.connection,\n    );\n\n    const newAccount = new Account();\n    const transaction = new Transaction();\n    transaction.add(\n      SystemProgram.createAccount({\n        fromPubkey: this.payer.publicKey,\n        newAccountPubkey: newAccount.publicKey,\n        lamports: balanceNeeded,\n        space: AccountLayout.span,\n        programId: this.programId,\n      }),\n    );\n\n    const mintPublicKey = this.publicKey;\n    transaction.add(\n      Token.createInitAccountInstruction(\n        this.programId,\n        mintPublicKey,\n        newAccount.publicKey,\n        owner,\n      ),\n    );\n\n    // Send the two instructions\n    await sendAndConfirmTransaction(\n      'createAccount and InitializeAccount',\n      this.connection,\n      transaction,\n      this.payer,\n      newAccount,\n    );\n\n    return newAccount.publicKey;\n  }\n\n  /**\n   * Create and initialize the associated account.\n   *\n   * This account may then be used as a `transfer()` or `approve()` destination\n   *\n   * @param owner User account that will own the new account\n   * @return Public key of the new associated account\n   */\n  async createAssociatedTokenAccount(owner: PublicKey): Promise<PublicKey> {\n    const associatedAddress = await Token.getAssociatedTokenAddress(\n      this.associatedProgramId,\n      this.programId,\n      this.publicKey,\n      owner,\n    );\n\n    return this.createAssociatedTokenAccountInternal(owner, associatedAddress);\n  }\n\n  async createAssociatedTokenAccountInternal(\n    owner: PublicKey,\n    associatedAddress: PublicKey,\n  ): Promise<PublicKey> {\n    await sendAndConfirmTransaction(\n      'CreateAssociatedTokenAccount',\n      this.connection,\n      new Transaction().add(\n        Token.createAssociatedTokenAccountInstruction(\n          this.associatedProgramId,\n          this.programId,\n          this.publicKey,\n          associatedAddress,\n          owner,\n          this.payer.publicKey,\n        ),\n      ),\n      this.payer,\n    );\n\n    return associatedAddress;\n  }\n\n  /**\n   * Retrieve the associated account or create one if not found.\n   *\n   * This account may then be used as a `transfer()` or `approve()` destination\n   *\n   * @param owner User account that will own the new account\n   * @return The new associated account\n   */\n  async getOrCreateAssociatedAccountInfo(\n    owner: PublicKey,\n  ): Promise<AccountInfo> {\n    const associatedAddress = await Token.getAssociatedTokenAddress(\n      this.associatedProgramId,\n      this.programId,\n      this.publicKey,\n      owner,\n    );\n\n    // This is the optimum logic, considering TX fee, client-side computation,\n    // RPC roundtrips and guaranteed idempotent.\n    // Sadly we can't do this atomically;\n    try {\n      return await this.getAccountInfo(associatedAddress);\n    } catch (err) {\n      // INVALID_ACCOUNT_OWNER can be possible if the associatedAddress has\n      // already been received some lamports (= became system accounts).\n      // Assuming program derived addressing is safe, this is the only case\n      // for the INVALID_ACCOUNT_OWNER in this code-path\n      if (\n        err.message === FAILED_TO_FIND_ACCOUNT ||\n        err.message === INVALID_ACCOUNT_OWNER\n      ) {\n        // as this isn't atomic, it's possible others can create associated\n        // accounts meanwhile\n        try {\n          await this.createAssociatedTokenAccountInternal(\n            owner,\n            associatedAddress,\n          );\n        } catch (err) {\n          // ignore all errors; for now there is no API compatible way to\n          // selectively ignore the expected instruction error if the\n          // associated account is existing already.\n        }\n\n        // Now this should always succeed\n        return await this.getAccountInfo(associatedAddress);\n      } else {\n        throw err;\n      }\n    }\n  }\n\n  /**\n   * Create and initialize a new account on the special native token mint.\n   *\n   * In order to be wrapped, the account must have a balance of native tokens\n   * when it is initialized with the token program.\n   *\n   * This function sends lamports to the new account before initializing it.\n   *\n   * @param connection A solana web3 connection\n   * @param programId The token program ID\n   * @param owner The owner of the new token account\n   * @param payer The source of the lamports to initialize, and payer of the initialization fees.\n   * @param amount The amount of lamports to wrap\n   * @return {Promise<PublicKey>} The new token account\n   */\n  static async createWrappedNativeAccount(\n    connection: Connection,\n    programId: PublicKey,\n    owner: PublicKey,\n    payer: Account,\n    amount: number,\n  ): Promise<PublicKey> {\n    // Allocate memory for the account\n    const balanceNeeded = await Token.getMinBalanceRentForExemptAccount(\n      connection,\n    );\n\n    // Create a new account\n    const newAccount = new Account();\n    const transaction = new Transaction();\n    transaction.add(\n      SystemProgram.createAccount({\n        fromPubkey: payer.publicKey,\n        newAccountPubkey: newAccount.publicKey,\n        lamports: balanceNeeded,\n        space: AccountLayout.span,\n        programId,\n      }),\n    );\n\n    // Send lamports to it (these will be wrapped into native tokens by the token program)\n    transaction.add(\n      SystemProgram.transfer({\n        fromPubkey: payer.publicKey,\n        toPubkey: newAccount.publicKey,\n        lamports: amount,\n      }),\n    );\n\n    // Assign the new account to the native token mint.\n    // the account will be initialized with a balance equal to the native token balance.\n    // (i.e. amount)\n    transaction.add(\n      Token.createInitAccountInstruction(\n        programId,\n        NATIVE_MINT,\n        newAccount.publicKey,\n        owner,\n      ),\n    );\n\n    // Send the three instructions\n    await sendAndConfirmTransaction(\n      'createAccount, transfer, and initializeAccount',\n      connection,\n      transaction,\n      payer,\n      newAccount,\n    );\n\n    return newAccount.publicKey;\n  }\n\n  /**\n   * Create and initialize a new multisig.\n   *\n   * This account may then be used for multisignature verification\n   *\n   * @param m Number of required signatures\n   * @param signers Full set of signers\n   * @return Public key of the new multisig account\n   */\n  async createMultisig(\n    m: number,\n    signers: Array<PublicKey>,\n  ): Promise<PublicKey> {\n    const multisigAccount = new Account();\n\n    // Allocate memory for the account\n    const balanceNeeded = await Token.getMinBalanceRentForExemptMultisig(\n      this.connection,\n    );\n    const transaction = new Transaction();\n    transaction.add(\n      SystemProgram.createAccount({\n        fromPubkey: this.payer.publicKey,\n        newAccountPubkey: multisigAccount.publicKey,\n        lamports: balanceNeeded,\n        space: MultisigLayout.span,\n        programId: this.programId,\n      }),\n    );\n\n    // create the new account\n    let keys = [\n      {pubkey: multisigAccount.publicKey, isSigner: false, isWritable: true},\n      {pubkey: SYSVAR_RENT_PUBKEY, isSigner: false, isWritable: false},\n    ];\n    signers.forEach(signer =>\n      keys.push({pubkey: signer, isSigner: false, isWritable: false}),\n    );\n    const dataLayout = BufferLayout.struct([\n      BufferLayout.u8('instruction'),\n      BufferLayout.u8('m'),\n    ]);\n    const data = Buffer.alloc(dataLayout.span);\n    dataLayout.encode(\n      {\n        instruction: 2, // InitializeMultisig instruction\n        m,\n      },\n      data,\n    );\n    transaction.add({\n      keys,\n      programId: this.programId,\n      data,\n    });\n\n    // Send the two instructions\n    await sendAndConfirmTransaction(\n      'createAccount and InitializeMultisig',\n      this.connection,\n      transaction,\n      this.payer,\n      multisigAccount,\n    );\n\n    return multisigAccount.publicKey;\n  }\n\n  /**\n   * Retrieve mint information\n   */\n  async getMintInfo(): Promise<MintInfo> {\n    const info = await this.connection.getAccountInfo(this.publicKey);\n    if (info === null) {\n      throw new Error('Failed to find mint account');\n    }\n    if (!info.owner.equals(this.programId)) {\n      throw new Error(`Invalid mint owner: ${JSON.stringify(info.owner)}`);\n    }\n    if (info.data.length != MintLayout.span) {\n      throw new Error(`Invalid mint size`);\n    }\n\n    const data = Buffer.from(info.data);\n    const mintInfo = MintLayout.decode(data);\n\n    if (mintInfo.mintAuthorityOption === 0) {\n      mintInfo.mintAuthority = null;\n    } else {\n      mintInfo.mintAuthority = new PublicKey(mintInfo.mintAuthority);\n    }\n\n    mintInfo.supply = u64.fromBuffer(mintInfo.supply);\n    mintInfo.isInitialized = mintInfo.isInitialized != 0;\n\n    if (mintInfo.freezeAuthorityOption === 0) {\n      mintInfo.freezeAuthority = null;\n    } else {\n      mintInfo.freezeAuthority = new PublicKey(mintInfo.freezeAuthority);\n    }\n    return mintInfo;\n  }\n\n  /**\n   * Retrieve account information\n   *\n   * @param account Public key of the account\n   */\n  async getAccountInfo(\n    account: PublicKey,\n    commitment?: Commitment,\n  ): Promise<AccountInfo> {\n    const info = await this.connection.getAccountInfo(account, commitment);\n    if (info === null) {\n      throw new Error(FAILED_TO_FIND_ACCOUNT);\n    }\n    if (!info.owner.equals(this.programId)) {\n      throw new Error(INVALID_ACCOUNT_OWNER);\n    }\n    if (info.data.length != AccountLayout.span) {\n      throw new Error(`Invalid account size`);\n    }\n\n    const data = Buffer.from(info.data);\n    const accountInfo = AccountLayout.decode(data);\n    accountInfo.address = account;\n    accountInfo.mint = new PublicKey(accountInfo.mint);\n    accountInfo.owner = new PublicKey(accountInfo.owner);\n    accountInfo.amount = u64.fromBuffer(accountInfo.amount);\n\n    if (accountInfo.delegateOption === 0) {\n      accountInfo.delegate = null;\n      accountInfo.delegatedAmount = new u64();\n    } else {\n      accountInfo.delegate = new PublicKey(accountInfo.delegate);\n      accountInfo.delegatedAmount = u64.fromBuffer(accountInfo.delegatedAmount);\n    }\n\n    accountInfo.isInitialized = accountInfo.state !== 0;\n    accountInfo.isFrozen = accountInfo.state === 2;\n\n    if (accountInfo.isNativeOption === 1) {\n      accountInfo.rentExemptReserve = u64.fromBuffer(accountInfo.isNative);\n      accountInfo.isNative = true;\n    } else {\n      accountInfo.rentExemptReserve = null;\n      accountInfo.isNative = false;\n    }\n\n    if (accountInfo.closeAuthorityOption === 0) {\n      accountInfo.closeAuthority = null;\n    } else {\n      accountInfo.closeAuthority = new PublicKey(accountInfo.closeAuthority);\n    }\n\n    if (!accountInfo.mint.equals(this.publicKey)) {\n      throw new Error(\n        `Invalid account mint: ${JSON.stringify(\n          accountInfo.mint,\n        )} !== ${JSON.stringify(this.publicKey)}`,\n      );\n    }\n    return accountInfo;\n  }\n\n  /**\n   * Retrieve Multisig information\n   *\n   * @param multisig Public key of the account\n   */\n  async getMultisigInfo(multisig: PublicKey): Promise<MultisigInfo> {\n    const info = await this.connection.getAccountInfo(multisig);\n    if (info === null) {\n      throw new Error('Failed to find multisig');\n    }\n    if (!info.owner.equals(this.programId)) {\n      throw new Error(`Invalid multisig owner`);\n    }\n    if (info.data.length != MultisigLayout.span) {\n      throw new Error(`Invalid multisig size`);\n    }\n\n    const data = Buffer.from(info.data);\n    const multisigInfo = MultisigLayout.decode(data);\n    multisigInfo.signer1 = new PublicKey(multisigInfo.signer1);\n    multisigInfo.signer2 = new PublicKey(multisigInfo.signer2);\n    multisigInfo.signer3 = new PublicKey(multisigInfo.signer3);\n    multisigInfo.signer4 = new PublicKey(multisigInfo.signer4);\n    multisigInfo.signer5 = new PublicKey(multisigInfo.signer5);\n    multisigInfo.signer6 = new PublicKey(multisigInfo.signer6);\n    multisigInfo.signer7 = new PublicKey(multisigInfo.signer7);\n    multisigInfo.signer8 = new PublicKey(multisigInfo.signer8);\n    multisigInfo.signer9 = new PublicKey(multisigInfo.signer9);\n    multisigInfo.signer10 = new PublicKey(multisigInfo.signer10);\n    multisigInfo.signer11 = new PublicKey(multisigInfo.signer11);\n\n    return multisigInfo;\n  }\n\n  /**\n   * Transfer tokens to another account\n   *\n   * @param source Source account\n   * @param destination Destination account\n   * @param owner Owner of the source account\n   * @param multiSigners Signing accounts if `owner` is a multiSig\n   * @param amount Number of tokens to transfer\n   */\n  async transfer(\n    source: PublicKey,\n    destination: PublicKey,\n    owner: any,\n    multiSigners: Array<Account>,\n    amount: number | u64,\n  ): Promise<TransactionSignature> {\n    let ownerPublicKey;\n    let signers;\n    if (isAccount(owner)) {\n      ownerPublicKey = owner.publicKey;\n      signers = [owner];\n    } else {\n      ownerPublicKey = owner;\n      signers = multiSigners;\n    }\n    return await sendAndConfirmTransaction(\n      'Transfer',\n      this.connection,\n      new Transaction().add(\n        Token.createTransferInstruction(\n          this.programId,\n          source,\n          destination,\n          ownerPublicKey,\n          multiSigners,\n          amount,\n        ),\n      ),\n      this.payer,\n      ...signers,\n    );\n  }\n\n  /**\n   * Grant a third-party permission to transfer up the specified number of tokens from an account\n   *\n   * @param account Public key of the account\n   * @param delegate Account authorized to perform a transfer tokens from the source account\n   * @param owner Owner of the source account\n   * @param multiSigners Signing accounts if `owner` is a multiSig\n   * @param amount Maximum number of tokens the delegate may transfer\n   */\n  async approve(\n    account: PublicKey,\n    delegate: PublicKey,\n    owner: any,\n    multiSigners: Array<Account>,\n    amount: number | u64,\n  ): Promise<void> {\n    let ownerPublicKey;\n    let signers;\n    if (isAccount(owner)) {\n      ownerPublicKey = owner.publicKey;\n      signers = [owner];\n    } else {\n      ownerPublicKey = owner;\n      signers = multiSigners;\n    }\n    await sendAndConfirmTransaction(\n      'Approve',\n      this.connection,\n      new Transaction().add(\n        Token.createApproveInstruction(\n          this.programId,\n          account,\n          delegate,\n          ownerPublicKey,\n          multiSigners,\n          amount,\n        ),\n      ),\n      this.payer,\n      ...signers,\n    );\n  }\n\n  /**\n   * Remove approval for the transfer of any remaining tokens\n   *\n   * @param account Public key of the account\n   * @param owner Owner of the source account\n   * @param multiSigners Signing accounts if `owner` is a multiSig\n   */\n  async revoke(\n    account: PublicKey,\n    owner: any,\n    multiSigners: Array<Account>,\n  ): Promise<void> {\n    let ownerPublicKey;\n    let signers;\n    if (isAccount(owner)) {\n      ownerPublicKey = owner.publicKey;\n      signers = [owner];\n    } else {\n      ownerPublicKey = owner;\n      signers = multiSigners;\n    }\n    await sendAndConfirmTransaction(\n      'Revoke',\n      this.connection,\n      new Transaction().add(\n        Token.createRevokeInstruction(\n          this.programId,\n          account,\n          ownerPublicKey,\n          multiSigners,\n        ),\n      ),\n      this.payer,\n      ...signers,\n    );\n  }\n\n  /**\n   * Assign a new authority to the account\n   *\n   * @param account Public key of the account\n   * @param newAuthority New authority of the account\n   * @param authorityType Type of authority to set\n   * @param currentAuthority Current authority of the account\n   * @param multiSigners Signing accounts if `currentAuthority` is a multiSig\n   */\n  async setAuthority(\n    account: PublicKey,\n    newAuthority: PublicKey | null,\n    authorityType: AuthorityType,\n    currentAuthority: any,\n    multiSigners: Array<Account>,\n  ): Promise<void> {\n    let currentAuthorityPublicKey: PublicKey;\n    let signers;\n    if (isAccount(currentAuthority)) {\n      currentAuthorityPublicKey = currentAuthority.publicKey;\n      signers = [currentAuthority];\n    } else {\n      currentAuthorityPublicKey = currentAuthority;\n      signers = multiSigners;\n    }\n    await sendAndConfirmTransaction(\n      'SetAuthority',\n      this.connection,\n      new Transaction().add(\n        Token.createSetAuthorityInstruction(\n          this.programId,\n          account,\n          newAuthority,\n          authorityType,\n          currentAuthorityPublicKey,\n          multiSigners,\n        ),\n      ),\n      this.payer,\n      ...signers,\n    );\n  }\n\n  /**\n   * Mint new tokens\n   *\n   * @param dest Public key of the account to mint to\n   * @param authority Minting authority\n   * @param multiSigners Signing accounts if `authority` is a multiSig\n   * @param amount Amount to mint\n   */\n  async mintTo(\n    dest: PublicKey,\n    authority: any,\n    multiSigners: Array<Account>,\n    amount: number | u64,\n  ): Promise<void> {\n    let ownerPublicKey;\n    let signers;\n    if (isAccount(authority)) {\n      ownerPublicKey = authority.publicKey;\n      signers = [authority];\n    } else {\n      ownerPublicKey = authority;\n      signers = multiSigners;\n    }\n    await sendAndConfirmTransaction(\n      'MintTo',\n      this.connection,\n      new Transaction().add(\n        Token.createMintToInstruction(\n          this.programId,\n          this.publicKey,\n          dest,\n          ownerPublicKey,\n          multiSigners,\n          amount,\n        ),\n      ),\n      this.payer,\n      ...signers,\n    );\n  }\n\n  /**\n   * Burn tokens\n   *\n   * @param account Account to burn tokens from\n   * @param owner Account owner\n   * @param multiSigners Signing accounts if `owner` is a multiSig\n   * @param amount Amount to burn\n   */\n  async burn(\n    account: PublicKey,\n    owner: any,\n    multiSigners: Array<Account>,\n    amount: number | u64,\n  ): Promise<void> {\n    let ownerPublicKey;\n    let signers;\n    if (isAccount(owner)) {\n      ownerPublicKey = owner.publicKey;\n      signers = [owner];\n    } else {\n      ownerPublicKey = owner;\n      signers = multiSigners;\n    }\n    await sendAndConfirmTransaction(\n      'Burn',\n      this.connection,\n      new Transaction().add(\n        Token.createBurnInstruction(\n          this.programId,\n          this.publicKey,\n          account,\n          ownerPublicKey,\n          multiSigners,\n          amount,\n        ),\n      ),\n      this.payer,\n      ...signers,\n    );\n  }\n\n  /**\n   * Close account\n   *\n   * @param account Account to close\n   * @param dest Account to receive the remaining balance of the closed account\n   * @param authority Authority which is allowed to close the account\n   * @param multiSigners Signing accounts if `authority` is a multiSig\n   */\n  async closeAccount(\n    account: PublicKey,\n    dest: PublicKey,\n    authority: any,\n    multiSigners: Array<Account>,\n  ): Promise<void> {\n    let authorityPublicKey;\n    let signers;\n    if (isAccount(authority)) {\n      authorityPublicKey = authority.publicKey;\n      signers = [authority];\n    } else {\n      authorityPublicKey = authority;\n      signers = multiSigners;\n    }\n    await sendAndConfirmTransaction(\n      'CloseAccount',\n      this.connection,\n      new Transaction().add(\n        Token.createCloseAccountInstruction(\n          this.programId,\n          account,\n          dest,\n          authorityPublicKey,\n          multiSigners,\n        ),\n      ),\n      this.payer,\n      ...signers,\n    );\n  }\n\n  /**\n   * Freeze account\n   *\n   * @param account Account to freeze\n   * @param authority The mint freeze authority\n   * @param multiSigners Signing accounts if `authority` is a multiSig\n   */\n  async freezeAccount(\n    account: PublicKey,\n    authority: any,\n    multiSigners: Array<Account>,\n  ): Promise<void> {\n    let authorityPublicKey;\n    let signers;\n    if (isAccount(authority)) {\n      authorityPublicKey = authority.publicKey;\n      signers = [authority];\n    } else {\n      authorityPublicKey = authority;\n      signers = multiSigners;\n    }\n    await sendAndConfirmTransaction(\n      'FreezeAccount',\n      this.connection,\n      new Transaction().add(\n        Token.createFreezeAccountInstruction(\n          this.programId,\n          account,\n          this.publicKey,\n          authorityPublicKey,\n          multiSigners,\n        ),\n      ),\n      this.payer,\n      ...signers,\n    );\n  }\n\n  /**\n   * Thaw account\n   *\n   * @param account Account to thaw\n   * @param authority The mint freeze authority\n   * @param multiSigners Signing accounts if `authority` is a multiSig\n   */\n  async thawAccount(\n    account: PublicKey,\n    authority: any,\n    multiSigners: Array<Account>,\n  ): Promise<void> {\n    let authorityPublicKey;\n    let signers;\n    if (isAccount(authority)) {\n      authorityPublicKey = authority.publicKey;\n      signers = [authority];\n    } else {\n      authorityPublicKey = authority;\n      signers = multiSigners;\n    }\n    await sendAndConfirmTransaction(\n      'ThawAccount',\n      this.connection,\n      new Transaction().add(\n        Token.createThawAccountInstruction(\n          this.programId,\n          account,\n          this.publicKey,\n          authorityPublicKey,\n          multiSigners,\n        ),\n      ),\n      this.payer,\n      ...signers,\n    );\n  }\n\n  /**\n   * Transfer tokens to another account, asserting the token mint and decimals\n   *\n   * @param source Source account\n   * @param destination Destination account\n   * @param owner Owner of the source account\n   * @param multiSigners Signing accounts if `owner` is a multiSig\n   * @param amount Number of tokens to transfer\n   * @param decimals Number of decimals in transfer amount\n   */\n  async transferChecked(\n    source: PublicKey,\n    destination: PublicKey,\n    owner: any,\n    multiSigners: Array<Account>,\n    amount: number | u64,\n    decimals: number,\n  ): Promise<TransactionSignature> {\n    let ownerPublicKey;\n    let signers;\n    if (isAccount(owner)) {\n      ownerPublicKey = owner.publicKey;\n      signers = [owner];\n    } else {\n      ownerPublicKey = owner;\n      signers = multiSigners;\n    }\n    return await sendAndConfirmTransaction(\n      'TransferChecked',\n      this.connection,\n      new Transaction().add(\n        Token.createTransferCheckedInstruction(\n          this.programId,\n          source,\n          this.publicKey,\n          destination,\n          ownerPublicKey,\n          multiSigners,\n          amount,\n          decimals,\n        ),\n      ),\n      this.payer,\n      ...signers,\n    );\n  }\n\n  /**\n   * Grant a third-party permission to transfer up the specified number of tokens from an account,\n   * asserting the token mint and decimals\n   *\n   * @param account Public key of the account\n   * @param delegate Account authorized to perform a transfer tokens from the source account\n   * @param owner Owner of the source account\n   * @param multiSigners Signing accounts if `owner` is a multiSig\n   * @param amount Maximum number of tokens the delegate may transfer\n   * @param decimals Number of decimals in approve amount\n   */\n  async approveChecked(\n    account: PublicKey,\n    delegate: PublicKey,\n    owner: any,\n    multiSigners: Array<Account>,\n    amount: number | u64,\n    decimals: number,\n  ): Promise<void> {\n    let ownerPublicKey;\n    let signers;\n    if (isAccount(owner)) {\n      ownerPublicKey = owner.publicKey;\n      signers = [owner];\n    } else {\n      ownerPublicKey = owner;\n      signers = multiSigners;\n    }\n    await sendAndConfirmTransaction(\n      'ApproveChecked',\n      this.connection,\n      new Transaction().add(\n        Token.createApproveCheckedInstruction(\n          this.programId,\n          account,\n          this.publicKey,\n          delegate,\n          ownerPublicKey,\n          multiSigners,\n          amount,\n          decimals,\n        ),\n      ),\n      this.payer,\n      ...signers,\n    );\n  }\n\n  /**\n   * Mint new tokens, asserting the token mint and decimals\n   *\n   * @param dest Public key of the account to mint to\n   * @param authority Minting authority\n   * @param multiSigners Signing accounts if `authority` is a multiSig\n   * @param amount Amount to mint\n   * @param decimals Number of decimals in amount to mint\n   */\n  async mintToChecked(\n    dest: PublicKey,\n    authority: any,\n    multiSigners: Array<Account>,\n    amount: number | u64,\n    decimals: number,\n  ): Promise<void> {\n    let ownerPublicKey;\n    let signers;\n    if (isAccount(authority)) {\n      ownerPublicKey = authority.publicKey;\n      signers = [authority];\n    } else {\n      ownerPublicKey = authority;\n      signers = multiSigners;\n    }\n    await sendAndConfirmTransaction(\n      'MintToChecked',\n      this.connection,\n      new Transaction().add(\n        Token.createMintToCheckedInstruction(\n          this.programId,\n          this.publicKey,\n          dest,\n          ownerPublicKey,\n          multiSigners,\n          amount,\n          decimals,\n        ),\n      ),\n      this.payer,\n      ...signers,\n    );\n  }\n\n  /**\n   * Burn tokens, asserting the token mint and decimals\n   *\n   * @param account Account to burn tokens from\n   * @param owner Account owner\n   * @param multiSigners Signing accounts if `owner` is a multiSig\n   * @param amount Amount to burn\n   * @param decimals Number of decimals in amount to burn\n   */\n  async burnChecked(\n    account: PublicKey,\n    owner: any,\n    multiSigners: Array<Account>,\n    amount: number | u64,\n    decimals: number,\n  ): Promise<void> {\n    let ownerPublicKey;\n    let signers;\n    if (isAccount(owner)) {\n      ownerPublicKey = owner.publicKey;\n      signers = [owner];\n    } else {\n      ownerPublicKey = owner;\n      signers = multiSigners;\n    }\n    await sendAndConfirmTransaction(\n      'BurnChecked',\n      this.connection,\n      new Transaction().add(\n        Token.createBurnCheckedInstruction(\n          this.programId,\n          this.publicKey,\n          account,\n          ownerPublicKey,\n          multiSigners,\n          amount,\n          decimals,\n        ),\n      ),\n      this.payer,\n      ...signers,\n    );\n  }\n\n  /**\n   * Construct an InitializeMint instruction\n   *\n   * @param programId SPL Token program account\n   * @param mint Token mint account\n   * @param decimals Number of decimals in token account amounts\n   * @param mintAuthority Minting authority\n   * @param freezeAuthority Optional authority that can freeze token accounts\n   */\n  static createInitMintInstruction(\n    programId: PublicKey,\n    mint: PublicKey,\n    decimals: number,\n    mintAuthority: PublicKey,\n    freezeAuthority: PublicKey | null,\n  ): TransactionInstruction {\n    let keys = [\n      {pubkey: mint, isSigner: false, isWritable: true},\n      {pubkey: SYSVAR_RENT_PUBKEY, isSigner: false, isWritable: false},\n    ];\n    const commandDataLayout = BufferLayout.struct([\n      BufferLayout.u8('instruction'),\n      BufferLayout.u8('decimals'),\n      Layout.publicKey('mintAuthority'),\n      BufferLayout.u8('option'),\n      Layout.publicKey('freezeAuthority'),\n    ]);\n    let data = Buffer.alloc(1024);\n    {\n      const encodeLength = commandDataLayout.encode(\n        {\n          instruction: 0, // InitializeMint instruction\n          decimals,\n          mintAuthority: pubkeyToBuffer(mintAuthority),\n          option: freezeAuthority === null ? 0 : 1,\n          freezeAuthority: pubkeyToBuffer(freezeAuthority || new PublicKey(0)),\n        },\n        data,\n      );\n      data = data.slice(0, encodeLength);\n    }\n\n    return new TransactionInstruction({\n      keys,\n      programId,\n      data,\n    });\n  }\n\n  /**\n   * Construct an InitializeAccount instruction\n   *\n   * @param programId SPL Token program account\n   * @param mint Token mint account\n   * @param account New account\n   * @param owner Owner of the new account\n   */\n  static createInitAccountInstruction(\n    programId: PublicKey,\n    mint: PublicKey,\n    account: PublicKey,\n    owner: PublicKey,\n  ): TransactionInstruction {\n    const keys = [\n      {pubkey: account, isSigner: false, isWritable: true},\n      {pubkey: mint, isSigner: false, isWritable: false},\n      {pubkey: owner, isSigner: false, isWritable: false},\n      {pubkey: SYSVAR_RENT_PUBKEY, isSigner: false, isWritable: false},\n    ];\n    const dataLayout = BufferLayout.struct([BufferLayout.u8('instruction')]);\n    const data = Buffer.alloc(dataLayout.span);\n    dataLayout.encode(\n      {\n        instruction: 1, // InitializeAccount instruction\n      },\n      data,\n    );\n\n    return new TransactionInstruction({\n      keys,\n      programId,\n      data,\n    });\n  }\n\n  /**\n   * Construct a Transfer instruction\n   *\n   * @param programId SPL Token program account\n   * @param source Source account\n   * @param destination Destination account\n   * @param owner Owner of the source account\n   * @param multiSigners Signing accounts if `authority` is a multiSig\n   * @param amount Number of tokens to transfer\n   */\n  static createTransferInstruction(\n    programId: PublicKey,\n    source: PublicKey,\n    destination: PublicKey,\n    owner: PublicKey,\n    multiSigners: Array<Account>,\n    amount: number | u64,\n  ): TransactionInstruction {\n    const dataLayout = BufferLayout.struct([\n      BufferLayout.u8('instruction'),\n      Layout.uint64('amount'),\n    ]);\n\n    const data = Buffer.alloc(dataLayout.span);\n    dataLayout.encode(\n      {\n        instruction: 3, // Transfer instruction\n        amount: new u64(amount).toBuffer(),\n      },\n      data,\n    );\n\n    let keys = [\n      {pubkey: source, isSigner: false, isWritable: true},\n      {pubkey: destination, isSigner: false, isWritable: true},\n    ];\n    if (multiSigners.length === 0) {\n      keys.push({\n        pubkey: owner,\n        isSigner: true,\n        isWritable: false,\n      });\n    } else {\n      keys.push({pubkey: owner, isSigner: false, isWritable: false});\n      multiSigners.forEach(signer =>\n        keys.push({\n          pubkey: signer.publicKey,\n          isSigner: true,\n          isWritable: false,\n        }),\n      );\n    }\n    return new TransactionInstruction({\n      keys,\n      programId: programId,\n      data,\n    });\n  }\n\n  /**\n   * Construct an Approve instruction\n   *\n   * @param programId SPL Token program account\n   * @param account Public key of the account\n   * @param delegate Account authorized to perform a transfer of tokens from the source account\n   * @param owner Owner of the source account\n   * @param multiSigners Signing accounts if `owner` is a multiSig\n   * @param amount Maximum number of tokens the delegate may transfer\n   */\n  static createApproveInstruction(\n    programId: PublicKey,\n    account: PublicKey,\n    delegate: PublicKey,\n    owner: PublicKey,\n    multiSigners: Array<Account>,\n    amount: number | u64,\n  ): TransactionInstruction {\n    const dataLayout = BufferLayout.struct([\n      BufferLayout.u8('instruction'),\n      Layout.uint64('amount'),\n    ]);\n\n    const data = Buffer.alloc(dataLayout.span);\n    dataLayout.encode(\n      {\n        instruction: 4, // Approve instruction\n        amount: new u64(amount).toBuffer(),\n      },\n      data,\n    );\n\n    let keys = [\n      {pubkey: account, isSigner: false, isWritable: true},\n      {pubkey: delegate, isSigner: false, isWritable: false},\n    ];\n    if (multiSigners.length === 0) {\n      keys.push({pubkey: owner, isSigner: true, isWritable: false});\n    } else {\n      keys.push({pubkey: owner, isSigner: false, isWritable: false});\n      multiSigners.forEach(signer =>\n        keys.push({\n          pubkey: signer.publicKey,\n          isSigner: true,\n          isWritable: false,\n        }),\n      );\n    }\n\n    return new TransactionInstruction({\n      keys,\n      programId: programId,\n      data,\n    });\n  }\n\n  /**\n   * Construct a Revoke instruction\n   *\n   * @param programId SPL Token program account\n   * @param account Public key of the account\n   * @param owner Owner of the source account\n   * @param multiSigners Signing accounts if `owner` is a multiSig\n   */\n  static createRevokeInstruction(\n    programId: PublicKey,\n    account: PublicKey,\n    owner: PublicKey,\n    multiSigners: Array<Account>,\n  ): TransactionInstruction {\n    const dataLayout = BufferLayout.struct([BufferLayout.u8('instruction')]);\n\n    const data = Buffer.alloc(dataLayout.span);\n    dataLayout.encode(\n      {\n        instruction: 5, // Approve instruction\n      },\n      data,\n    );\n\n    let keys = [{pubkey: account, isSigner: false, isWritable: true}];\n    if (multiSigners.length === 0) {\n      keys.push({pubkey: owner, isSigner: true, isWritable: false});\n    } else {\n      keys.push({pubkey: owner, isSigner: false, isWritable: false});\n      multiSigners.forEach(signer =>\n        keys.push({\n          pubkey: signer.publicKey,\n          isSigner: true,\n          isWritable: false,\n        }),\n      );\n    }\n\n    return new TransactionInstruction({\n      keys,\n      programId: programId,\n      data,\n    });\n  }\n\n  /**\n   * Construct a SetAuthority instruction\n   *\n   * @param programId SPL Token program account\n   * @param account Public key of the account\n   * @param newAuthority New authority of the account\n   * @param authorityType Type of authority to set\n   * @param currentAuthority Current authority of the specified type\n   * @param multiSigners Signing accounts if `currentAuthority` is a multiSig\n   */\n  static createSetAuthorityInstruction(\n    programId: PublicKey,\n    account: PublicKey,\n    newAuthority: PublicKey | null,\n    authorityType: AuthorityType,\n    currentAuthority: PublicKey,\n    multiSigners: Array<Account>,\n  ): TransactionInstruction {\n    const commandDataLayout = BufferLayout.struct([\n      BufferLayout.u8('instruction'),\n      BufferLayout.u8('authorityType'),\n      BufferLayout.u8('option'),\n      Layout.publicKey('newAuthority'),\n    ]);\n\n    let data = Buffer.alloc(1024);\n    {\n      const encodeLength = commandDataLayout.encode(\n        {\n          instruction: 6, // SetAuthority instruction\n          authorityType: AuthorityTypeCodes[authorityType],\n          option: newAuthority === null ? 0 : 1,\n          newAuthority: pubkeyToBuffer(newAuthority || new PublicKey(0)),\n        },\n        data,\n      );\n      data = data.slice(0, encodeLength);\n    }\n\n    let keys = [{pubkey: account, isSigner: false, isWritable: true}];\n    if (multiSigners.length === 0) {\n      keys.push({pubkey: currentAuthority, isSigner: true, isWritable: false});\n    } else {\n      keys.push({pubkey: currentAuthority, isSigner: false, isWritable: false});\n      multiSigners.forEach(signer =>\n        keys.push({\n          pubkey: signer.publicKey,\n          isSigner: true,\n          isWritable: false,\n        }),\n      );\n    }\n\n    return new TransactionInstruction({\n      keys,\n      programId: programId,\n      data,\n    });\n  }\n\n  /**\n   * Construct a MintTo instruction\n   *\n   * @param programId SPL Token program account\n   * @param mint Public key of the mint\n   * @param dest Public key of the account to mint to\n   * @param authority The mint authority\n   * @param multiSigners Signing accounts if `authority` is a multiSig\n   * @param amount Amount to mint\n   */\n  static createMintToInstruction(\n    programId: PublicKey,\n    mint: PublicKey,\n    dest: PublicKey,\n    authority: PublicKey,\n    multiSigners: Array<Account>,\n    amount: number | u64,\n  ): TransactionInstruction {\n    const dataLayout = BufferLayout.struct([\n      BufferLayout.u8('instruction'),\n      Layout.uint64('amount'),\n    ]);\n\n    const data = Buffer.alloc(dataLayout.span);\n    dataLayout.encode(\n      {\n        instruction: 7, // MintTo instruction\n        amount: new u64(amount).toBuffer(),\n      },\n      data,\n    );\n\n    let keys = [\n      {pubkey: mint, isSigner: false, isWritable: true},\n      {pubkey: dest, isSigner: false, isWritable: true},\n    ];\n    if (multiSigners.length === 0) {\n      keys.push({\n        pubkey: authority,\n        isSigner: true,\n        isWritable: false,\n      });\n    } else {\n      keys.push({pubkey: authority, isSigner: false, isWritable: false});\n      multiSigners.forEach(signer =>\n        keys.push({\n          pubkey: signer.publicKey,\n          isSigner: true,\n          isWritable: false,\n        }),\n      );\n    }\n\n    return new TransactionInstruction({\n      keys,\n      programId: programId,\n      data,\n    });\n  }\n\n  /**\n   * Construct a Burn instruction\n   *\n   * @param programId SPL Token program account\n   * @param mint Mint for the account\n   * @param account Account to burn tokens from\n   * @param owner Owner of the account\n   * @param multiSigners Signing accounts if `authority` is a multiSig\n   * @param amount amount to burn\n   */\n  static createBurnInstruction(\n    programId: PublicKey,\n    mint: PublicKey,\n    account: PublicKey,\n    owner: PublicKey,\n    multiSigners: Array<Account>,\n    amount: number | u64,\n  ): TransactionInstruction {\n    const dataLayout = BufferLayout.struct([\n      BufferLayout.u8('instruction'),\n      Layout.uint64('amount'),\n    ]);\n\n    const data = Buffer.alloc(dataLayout.span);\n    dataLayout.encode(\n      {\n        instruction: 8, // Burn instruction\n        amount: new u64(amount).toBuffer(),\n      },\n      data,\n    );\n\n    let keys = [\n      {pubkey: account, isSigner: false, isWritable: true},\n      {pubkey: mint, isSigner: false, isWritable: true},\n    ];\n    if (multiSigners.length === 0) {\n      keys.push({\n        pubkey: owner,\n        isSigner: true,\n        isWritable: false,\n      });\n    } else {\n      keys.push({pubkey: owner, isSigner: false, isWritable: false});\n      multiSigners.forEach(signer =>\n        keys.push({\n          pubkey: signer.publicKey,\n          isSigner: true,\n          isWritable: false,\n        }),\n      );\n    }\n\n    return new TransactionInstruction({\n      keys,\n      programId: programId,\n      data,\n    });\n  }\n\n  /**\n   * Construct a Close instruction\n   *\n   * @param programId SPL Token program account\n   * @param account Account to close\n   * @param dest Account to receive the remaining balance of the closed account\n   * @param authority Account Close authority\n   * @param multiSigners Signing accounts if `owner` is a multiSig\n   */\n  static createCloseAccountInstruction(\n    programId: PublicKey,\n    account: PublicKey,\n    dest: PublicKey,\n    owner: PublicKey,\n    multiSigners: Array<Account>,\n  ): TransactionInstruction {\n    const dataLayout = BufferLayout.struct([BufferLayout.u8('instruction')]);\n    const data = Buffer.alloc(dataLayout.span);\n    dataLayout.encode(\n      {\n        instruction: 9, // CloseAccount instruction\n      },\n      data,\n    );\n\n    let keys = [\n      {pubkey: account, isSigner: false, isWritable: true},\n      {pubkey: dest, isSigner: false, isWritable: true},\n    ];\n    if (multiSigners.length === 0) {\n      keys.push({pubkey: owner, isSigner: true, isWritable: false});\n    } else {\n      keys.push({pubkey: owner, isSigner: false, isWritable: false});\n      multiSigners.forEach(signer =>\n        keys.push({\n          pubkey: signer.publicKey,\n          isSigner: true,\n          isWritable: false,\n        }),\n      );\n    }\n\n    return new TransactionInstruction({\n      keys,\n      programId: programId,\n      data,\n    });\n  }\n\n  /**\n   * Construct a Freeze instruction\n   *\n   * @param programId SPL Token program account\n   * @param account Account to freeze\n   * @param mint Mint account\n   * @param authority Mint freeze authority\n   * @param multiSigners Signing accounts if `owner` is a multiSig\n   */\n  static createFreezeAccountInstruction(\n    programId: PublicKey,\n    account: PublicKey,\n    mint: PublicKey,\n    authority: PublicKey,\n    multiSigners: Array<Account>,\n  ): TransactionInstruction {\n    const dataLayout = BufferLayout.struct([BufferLayout.u8('instruction')]);\n    const data = Buffer.alloc(dataLayout.span);\n    dataLayout.encode(\n      {\n        instruction: 10, // FreezeAccount instruction\n      },\n      data,\n    );\n\n    let keys = [\n      {pubkey: account, isSigner: false, isWritable: true},\n      {pubkey: mint, isSigner: false, isWritable: false},\n    ];\n    if (multiSigners.length === 0) {\n      keys.push({pubkey: authority, isSigner: true, isWritable: false});\n    } else {\n      keys.push({pubkey: authority, isSigner: false, isWritable: false});\n      multiSigners.forEach(signer =>\n        keys.push({\n          pubkey: signer.publicKey,\n          isSigner: true,\n          isWritable: false,\n        }),\n      );\n    }\n\n    return new TransactionInstruction({\n      keys,\n      programId: programId,\n      data,\n    });\n  }\n\n  /**\n   * Construct a Thaw instruction\n   *\n   * @param programId SPL Token program account\n   * @param account Account to thaw\n   * @param mint Mint account\n   * @param authority Mint freeze authority\n   * @param multiSigners Signing accounts if `owner` is a multiSig\n   */\n  static createThawAccountInstruction(\n    programId: PublicKey,\n    account: PublicKey,\n    mint: PublicKey,\n    authority: PublicKey,\n    multiSigners: Array<Account>,\n  ): TransactionInstruction {\n    const dataLayout = BufferLayout.struct([BufferLayout.u8('instruction')]);\n    const data = Buffer.alloc(dataLayout.span);\n    dataLayout.encode(\n      {\n        instruction: 11, // ThawAccount instruction\n      },\n      data,\n    );\n\n    let keys = [\n      {pubkey: account, isSigner: false, isWritable: true},\n      {pubkey: mint, isSigner: false, isWritable: false},\n    ];\n    if (multiSigners.length === 0) {\n      keys.push({pubkey: authority, isSigner: true, isWritable: false});\n    } else {\n      keys.push({pubkey: authority, isSigner: false, isWritable: false});\n      multiSigners.forEach(signer =>\n        keys.push({\n          pubkey: signer.publicKey,\n          isSigner: true,\n          isWritable: false,\n        }),\n      );\n    }\n\n    return new TransactionInstruction({\n      keys,\n      programId: programId,\n      data,\n    });\n  }\n\n  /**\n   * Construct a TransferChecked instruction\n   *\n   * @param programId SPL Token program account\n   * @param source Source account\n   * @param mint Mint account\n   * @param destination Destination account\n   * @param owner Owner of the source account\n   * @param multiSigners Signing accounts if `authority` is a multiSig\n   * @param amount Number of tokens to transfer\n   * @param decimals Number of decimals in transfer amount\n   */\n  static createTransferCheckedInstruction(\n    programId: PublicKey,\n    source: PublicKey,\n    mint: PublicKey,\n    destination: PublicKey,\n    owner: PublicKey,\n    multiSigners: Array<Account>,\n    amount: number | u64,\n    decimals: number,\n  ): TransactionInstruction {\n    const dataLayout = BufferLayout.struct([\n      BufferLayout.u8('instruction'),\n      Layout.uint64('amount'),\n      BufferLayout.u8('decimals'),\n    ]);\n\n    const data = Buffer.alloc(dataLayout.span);\n    dataLayout.encode(\n      {\n        instruction: 12, // TransferChecked instruction\n        amount: new u64(amount).toBuffer(),\n        decimals,\n      },\n      data,\n    );\n\n    let keys = [\n      {pubkey: source, isSigner: false, isWritable: true},\n      {pubkey: mint, isSigner: false, isWritable: false},\n      {pubkey: destination, isSigner: false, isWritable: true},\n    ];\n    if (multiSigners.length === 0) {\n      keys.push({\n        pubkey: owner,\n        isSigner: true,\n        isWritable: false,\n      });\n    } else {\n      keys.push({pubkey: owner, isSigner: false, isWritable: false});\n      multiSigners.forEach(signer =>\n        keys.push({\n          pubkey: signer.publicKey,\n          isSigner: true,\n          isWritable: false,\n        }),\n      );\n    }\n    return new TransactionInstruction({\n      keys,\n      programId: programId,\n      data,\n    });\n  }\n\n  /**\n   * Construct an ApproveChecked instruction\n   *\n   * @param programId SPL Token program account\n   * @param account Public key of the account\n   * @param mint Mint account\n   * @param delegate Account authorized to perform a transfer of tokens from the source account\n   * @param owner Owner of the source account\n   * @param multiSigners Signing accounts if `owner` is a multiSig\n   * @param amount Maximum number of tokens the delegate may transfer\n   * @param decimals Number of decimals in approve amount\n   */\n  static createApproveCheckedInstruction(\n    programId: PublicKey,\n    account: PublicKey,\n    mint: PublicKey,\n    delegate: PublicKey,\n    owner: PublicKey,\n    multiSigners: Array<Account>,\n    amount: number | u64,\n    decimals: number,\n  ): TransactionInstruction {\n    const dataLayout = BufferLayout.struct([\n      BufferLayout.u8('instruction'),\n      Layout.uint64('amount'),\n      BufferLayout.u8('decimals'),\n    ]);\n\n    const data = Buffer.alloc(dataLayout.span);\n    dataLayout.encode(\n      {\n        instruction: 13, // ApproveChecked instruction\n        amount: new u64(amount).toBuffer(),\n        decimals,\n      },\n      data,\n    );\n\n    let keys = [\n      {pubkey: account, isSigner: false, isWritable: true},\n      {pubkey: mint, isSigner: false, isWritable: false},\n      {pubkey: delegate, isSigner: false, isWritable: false},\n    ];\n    if (multiSigners.length === 0) {\n      keys.push({pubkey: owner, isSigner: true, isWritable: false});\n    } else {\n      keys.push({pubkey: owner, isSigner: false, isWritable: false});\n      multiSigners.forEach(signer =>\n        keys.push({\n          pubkey: signer.publicKey,\n          isSigner: true,\n          isWritable: false,\n        }),\n      );\n    }\n\n    return new TransactionInstruction({\n      keys,\n      programId: programId,\n      data,\n    });\n  }\n\n  /**\n   * Construct a MintToChecked instruction\n   *\n   * @param programId SPL Token program account\n   * @param mint Public key of the mint\n   * @param dest Public key of the account to mint to\n   * @param authority The mint authority\n   * @param multiSigners Signing accounts if `authority` is a multiSig\n   * @param amount Amount to mint\n   * @param decimals Number of decimals in amount to mint\n   */\n  static createMintToCheckedInstruction(\n    programId: PublicKey,\n    mint: PublicKey,\n    dest: PublicKey,\n    authority: PublicKey,\n    multiSigners: Array<Account>,\n    amount: number | u64,\n    decimals: number,\n  ): TransactionInstruction {\n    const dataLayout = BufferLayout.struct([\n      BufferLayout.u8('instruction'),\n      Layout.uint64('amount'),\n      BufferLayout.u8('decimals'),\n    ]);\n\n    const data = Buffer.alloc(dataLayout.span);\n    dataLayout.encode(\n      {\n        instruction: 14, // MintToChecked instruction\n        amount: new u64(amount).toBuffer(),\n        decimals,\n      },\n      data,\n    );\n\n    let keys = [\n      {pubkey: mint, isSigner: false, isWritable: true},\n      {pubkey: dest, isSigner: false, isWritable: true},\n    ];\n    if (multiSigners.length === 0) {\n      keys.push({\n        pubkey: authority,\n        isSigner: true,\n        isWritable: false,\n      });\n    } else {\n      keys.push({pubkey: authority, isSigner: false, isWritable: false});\n      multiSigners.forEach(signer =>\n        keys.push({\n          pubkey: signer.publicKey,\n          isSigner: true,\n          isWritable: false,\n        }),\n      );\n    }\n\n    return new TransactionInstruction({\n      keys,\n      programId: programId,\n      data,\n    });\n  }\n\n  /**\n   * Construct a BurnChecked instruction\n   *\n   * @param programId SPL Token program account\n   * @param mint Mint for the account\n   * @param account Account to burn tokens from\n   * @param owner Owner of the account\n   * @param multiSigners Signing accounts if `authority` is a multiSig\n   * @param amount amount to burn\n   */\n  static createBurnCheckedInstruction(\n    programId: PublicKey,\n    mint: PublicKey,\n    account: PublicKey,\n    owner: PublicKey,\n    multiSigners: Array<Account>,\n    amount: number | u64,\n    decimals: number,\n  ): TransactionInstruction {\n    const dataLayout = BufferLayout.struct([\n      BufferLayout.u8('instruction'),\n      Layout.uint64('amount'),\n      BufferLayout.u8('decimals'),\n    ]);\n\n    const data = Buffer.alloc(dataLayout.span);\n    dataLayout.encode(\n      {\n        instruction: 15, // BurnChecked instruction\n        amount: new u64(amount).toBuffer(),\n        decimals,\n      },\n      data,\n    );\n\n    let keys = [\n      {pubkey: account, isSigner: false, isWritable: true},\n      {pubkey: mint, isSigner: false, isWritable: true},\n    ];\n    if (multiSigners.length === 0) {\n      keys.push({\n        pubkey: owner,\n        isSigner: true,\n        isWritable: false,\n      });\n    } else {\n      keys.push({pubkey: owner, isSigner: false, isWritable: false});\n      multiSigners.forEach(signer =>\n        keys.push({\n          pubkey: signer.publicKey,\n          isSigner: true,\n          isWritable: false,\n        }),\n      );\n    }\n\n    return new TransactionInstruction({\n      keys,\n      programId: programId,\n      data,\n    });\n  }\n\n  /**\n   * Get the address for the associated token account\n   *\n   * @param associatedProgramId SPL Associated Token program account\n   * @param programId SPL Token program account\n   * @param mint Token mint account\n   * @param owner Owner of the new account\n   * @return Public key of the associated token account\n   */\n  static async getAssociatedTokenAddress(\n    associatedProgramId: PublicKey,\n    programId: PublicKey,\n    mint: PublicKey,\n    owner: PublicKey,\n  ): Promise<PublicKey> {\n    return (\n      await PublicKey.findProgramAddress(\n        [owner.toBuffer(), programId.toBuffer(), mint.toBuffer()],\n        associatedProgramId,\n      )\n    )[0];\n  }\n\n  /**\n   * Construct the AssociatedTokenProgram instruction to create the associated\n   * token account\n   *\n   * @param associatedProgramId SPL Associated Token program account\n   * @param programId SPL Token program account\n   * @param mint Token mint account\n   * @param associatedAccount New associated account\n   * @param owner Owner of the new account\n   * @param payer Payer of fees\n   */\n  static createAssociatedTokenAccountInstruction(\n    associatedProgramId: PublicKey,\n    programId: PublicKey,\n    mint: PublicKey,\n    associatedAccount: PublicKey,\n    owner: PublicKey,\n    payer: PublicKey,\n  ): TransactionInstruction {\n    const data = Buffer.alloc(0);\n\n    let keys = [\n      {pubkey: payer, isSigner: true, isWritable: true},\n      {pubkey: associatedAccount, isSigner: false, isWritable: true},\n      {pubkey: owner, isSigner: false, isWritable: false},\n      {pubkey: mint, isSigner: false, isWritable: false},\n      {pubkey: SystemProgram.programId, isSigner: false, isWritable: false},\n      {pubkey: programId, isSigner: false, isWritable: false},\n      {pubkey: SYSVAR_RENT_PUBKEY, isSigner: false, isWritable: false},\n    ];\n\n    return new TransactionInstruction({\n      keys,\n      programId: associatedProgramId,\n      data,\n    });\n  }\n}\n"],"names":["publicKey","property","BufferLayout","uint64","sendAndConfirmTransaction","title","connection","transaction","signers","realSendAndConfirmTransaction","skipPreflight","TOKEN_PROGRAM_ID","PublicKey","ASSOCIATED_TOKEN_PROGRAM_ID","FAILED_TO_FIND_ACCOUNT","INVALID_ACCOUNT_OWNER","pubkeyToBuffer","Buffer","from","toBuffer","u64","BN","a","toArray","reverse","b","length","assert","zeroPad","alloc","copy","fromBuffer","buffer","map","i","toString","slice","join","isAccount","accountOrPublicKey","AuthorityTypeCodes","MintTokens","FreezeAccount","AccountOwner","CloseAccount","NATIVE_MINT","MintLayout","Layout","AccountLayout","MultisigLayout","Token","constructor","programId","payer","Object","assign","associatedProgramId","getMinBalanceRentForExemptMint","getMinimumBalanceForRentExemption","span","getMinBalanceRentForExemptAccount","getMinBalanceRentForExemptMultisig","createMint","mintAuthority","freezeAuthority","decimals","mintAccount","Account","token","balanceNeeded","Transaction","add","SystemProgram","createAccount","fromPubkey","newAccountPubkey","lamports","space","createInitMintInstruction","owner","newAccount","mintPublicKey","createInitAccountInstruction","createAssociatedTokenAccount","associatedAddress","getAssociatedTokenAddress","createAssociatedTokenAccountInternal","createAssociatedTokenAccountInstruction","getOrCreateAssociatedAccountInfo","getAccountInfo","err","message","createWrappedNativeAccount","amount","transfer","toPubkey","createMultisig","m","multisigAccount","keys","pubkey","isSigner","isWritable","SYSVAR_RENT_PUBKEY","forEach","signer","push","dataLayout","data","encode","instruction","getMintInfo","info","Error","equals","JSON","stringify","mintInfo","decode","mintAuthorityOption","supply","isInitialized","freezeAuthorityOption","account","commitment","accountInfo","address","mint","delegateOption","delegate","delegatedAmount","state","isFrozen","isNativeOption","rentExemptReserve","isNative","closeAuthorityOption","closeAuthority","getMultisigInfo","multisig","multisigInfo","signer1","signer2","signer3","signer4","signer5","signer6","signer7","signer8","signer9","signer10","signer11","source","destination","multiSigners","ownerPublicKey","createTransferInstruction","approve","createApproveInstruction","revoke","createRevokeInstruction","setAuthority","newAuthority","authorityType","currentAuthority","currentAuthorityPublicKey","createSetAuthorityInstruction","mintTo","dest","authority","createMintToInstruction","burn","createBurnInstruction","closeAccount","authorityPublicKey","createCloseAccountInstruction","freezeAccount","createFreezeAccountInstruction","thawAccount","createThawAccountInstruction","transferChecked","createTransferCheckedInstruction","approveChecked","createApproveCheckedInstruction","mintToChecked","createMintToCheckedInstruction","burnChecked","createBurnCheckedInstruction","commandDataLayout","encodeLength","option","TransactionInstruction","findProgramAddress","associatedAccount"],"mappings":"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"}